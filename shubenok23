--
-- PostgreSQL database dump
--

-- Dumped from database version 12.20
-- Dumped by pg_dump version 16.4

-- Started on 2024-09-26 19:51:58

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 10 (class 2615 OID 16910)
-- Name: shubenok23; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA shubenok23;


ALTER SCHEMA shubenok23 OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 260 (class 1259 OID 16933)
-- Name: discounts; Type: TABLE; Schema: shubenok23; Owner: postgres
--

CREATE TABLE shubenok23.discounts (
    id_discount integer NOT NULL,
    value_discount integer
);


ALTER TABLE shubenok23.discounts OWNER TO postgres;

--
-- TOC entry 249 (class 1259 OID 16911)
-- Name: discounts_id_discount_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

CREATE SEQUENCE shubenok23.discounts_id_discount_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE shubenok23.discounts_id_discount_seq OWNER TO postgres;

--
-- TOC entry 259 (class 1259 OID 16931)
-- Name: discounts_id_discount_seq1; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

ALTER TABLE shubenok23.discounts ALTER COLUMN id_discount ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME shubenok23.discounts_id_discount_seq1
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 262 (class 1259 OID 16940)
-- Name: manufacturer; Type: TABLE; Schema: shubenok23; Owner: postgres
--

CREATE TABLE shubenok23.manufacturer (
    id_manufacturer integer NOT NULL,
    name_manufacturer character varying
);


ALTER TABLE shubenok23.manufacturer OWNER TO postgres;

--
-- TOC entry 250 (class 1259 OID 16913)
-- Name: manufacturer_id_manufacturer_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

CREATE SEQUENCE shubenok23.manufacturer_id_manufacturer_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE shubenok23.manufacturer_id_manufacturer_seq OWNER TO postgres;

--
-- TOC entry 261 (class 1259 OID 16938)
-- Name: manufacturer_id_manufacturer_seq1; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

ALTER TABLE shubenok23.manufacturer ALTER COLUMN id_manufacturer ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME shubenok23.manufacturer_id_manufacturer_seq1
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 251 (class 1259 OID 16915)
-- Name: newtable_1_id_user_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

CREATE SEQUENCE shubenok23.newtable_1_id_user_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE shubenok23.newtable_1_id_user_seq OWNER TO postgres;

--
-- TOC entry 252 (class 1259 OID 16917)
-- Name: newtable_id_role_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

CREATE SEQUENCE shubenok23.newtable_id_role_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE shubenok23.newtable_id_role_seq OWNER TO postgres;

--
-- TOC entry 253 (class 1259 OID 16919)
-- Name: newtable_id_srok_dost_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

CREATE SEQUENCE shubenok23.newtable_id_srok_dost_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE shubenok23.newtable_id_srok_dost_seq OWNER TO postgres;

--
-- TOC entry 254 (class 1259 OID 16921)
-- Name: newtable_id_visit_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

CREATE SEQUENCE shubenok23.newtable_id_visit_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE shubenok23.newtable_id_visit_seq OWNER TO postgres;

--
-- TOC entry 270 (class 1259 OID 17000)
-- Name: product; Type: TABLE; Schema: shubenok23; Owner: postgres
--

CREATE TABLE shubenok23.product (
    id_product integer NOT NULL,
    name_product character varying,
    descriprion character varying,
    id_manufacturer integer,
    cost real,
    id_discount integer,
    image character varying,
    amount_manufacturer integer
);


ALTER TABLE shubenok23.product OWNER TO postgres;

--
-- TOC entry 269 (class 1259 OID 16998)
-- Name: product_id_product_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

ALTER TABLE shubenok23.product ALTER COLUMN id_product ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME shubenok23.product_id_product_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 264 (class 1259 OID 16950)
-- Name: punkt_vydahi; Type: TABLE; Schema: shubenok23; Owner: postgres
--

CREATE TABLE shubenok23.punkt_vydahi (
    name_punkt character varying,
    id_punkt integer NOT NULL
);


ALTER TABLE shubenok23.punkt_vydahi OWNER TO postgres;

--
-- TOC entry 255 (class 1259 OID 16923)
-- Name: punkt_vydahi_id_punkt_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

CREATE SEQUENCE shubenok23.punkt_vydahi_id_punkt_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE shubenok23.punkt_vydahi_id_punkt_seq OWNER TO postgres;

--
-- TOC entry 263 (class 1259 OID 16948)
-- Name: punkt_vydahi_id_punkt_seq1; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

ALTER TABLE shubenok23.punkt_vydahi ALTER COLUMN id_punkt ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME shubenok23.punkt_vydahi_id_punkt_seq1
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 266 (class 1259 OID 16970)
-- Name: srok_dostavki; Type: TABLE; Schema: shubenok23; Owner: postgres
--

CREATE TABLE shubenok23.srok_dostavki (
    id_srok_dost integer NOT NULL,
    value_srok character varying
);


ALTER TABLE shubenok23.srok_dostavki OWNER TO postgres;

--
-- TOC entry 265 (class 1259 OID 16968)
-- Name: srok_dostavki_id_srok_dost_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

ALTER TABLE shubenok23.srok_dostavki ALTER COLUMN id_srok_dost ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME shubenok23.srok_dostavki_id_srok_dost_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 268 (class 1259 OID 16980)
-- Name: status_zakaz; Type: TABLE; Schema: shubenok23; Owner: postgres
--

CREATE TABLE shubenok23.status_zakaz (
    id_status integer NOT NULL,
    name_status character varying
);


ALTER TABLE shubenok23.status_zakaz OWNER TO postgres;

--
-- TOC entry 256 (class 1259 OID 16925)
-- Name: status_zakaz_id_status_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

CREATE SEQUENCE shubenok23.status_zakaz_id_status_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE shubenok23.status_zakaz_id_status_seq OWNER TO postgres;

--
-- TOC entry 267 (class 1259 OID 16978)
-- Name: status_zakaz_id_status_seq1; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

ALTER TABLE shubenok23.status_zakaz ALTER COLUMN id_status ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME shubenok23.status_zakaz_id_status_seq1
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 257 (class 1259 OID 16927)
-- Name: table1_id_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

CREATE SEQUENCE shubenok23.table1_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE shubenok23.table1_id_seq OWNER TO postgres;

--
-- TOC entry 272 (class 1259 OID 17037)
-- Name: zakaz; Type: TABLE; Schema: shubenok23; Owner: postgres
--

CREATE TABLE shubenok23.zakaz (
    id_zakaz integer NOT NULL,
    date date,
    code integer,
    id_punkt integer,
    id_status integer,
    id_srok integer
);


ALTER TABLE shubenok23.zakaz OWNER TO postgres;

--
-- TOC entry 258 (class 1259 OID 16929)
-- Name: zakaz_id_zakaz_seq; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

CREATE SEQUENCE shubenok23.zakaz_id_zakaz_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE shubenok23.zakaz_id_zakaz_seq OWNER TO postgres;

--
-- TOC entry 271 (class 1259 OID 17035)
-- Name: zakaz_id_zakaz_seq1; Type: SEQUENCE; Schema: shubenok23; Owner: postgres
--

ALTER TABLE shubenok23.zakaz ALTER COLUMN id_zakaz ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME shubenok23.zakaz_id_zakaz_seq1
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
    CYCLE
);


--
-- TOC entry 273 (class 1259 OID 17062)
-- Name: zakaz_product; Type: TABLE; Schema: shubenok23; Owner: postgres
--

CREATE TABLE shubenok23.zakaz_product (
    id_zakaz integer NOT NULL,
    id_product integer NOT NULL,
    amount integer
);


ALTER TABLE shubenok23.zakaz_product OWNER TO postgres;

--
-- TOC entry 2876 (class 2606 OID 16937)
-- Name: discounts discounts_pk; Type: CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.discounts
    ADD CONSTRAINT discounts_pk PRIMARY KEY (id_discount);


--
-- TOC entry 2878 (class 2606 OID 16947)
-- Name: manufacturer manufacturer_pk; Type: CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.manufacturer
    ADD CONSTRAINT manufacturer_pk PRIMARY KEY (id_manufacturer);


--
-- TOC entry 2886 (class 2606 OID 17007)
-- Name: product product_pk; Type: CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.product
    ADD CONSTRAINT product_pk PRIMARY KEY (id_product);


--
-- TOC entry 2880 (class 2606 OID 16957)
-- Name: punkt_vydahi punkt_vydahi_pk; Type: CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.punkt_vydahi
    ADD CONSTRAINT punkt_vydahi_pk PRIMARY KEY (id_punkt);


--
-- TOC entry 2882 (class 2606 OID 16977)
-- Name: srok_dostavki srok_dostavki_pk; Type: CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.srok_dostavki
    ADD CONSTRAINT srok_dostavki_pk PRIMARY KEY (id_srok_dost);


--
-- TOC entry 2884 (class 2606 OID 16987)
-- Name: status_zakaz status_zakaz_pk; Type: CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.status_zakaz
    ADD CONSTRAINT status_zakaz_pk PRIMARY KEY (id_status);


--
-- TOC entry 2888 (class 2606 OID 17041)
-- Name: zakaz zakaz_pk; Type: CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.zakaz
    ADD CONSTRAINT zakaz_pk PRIMARY KEY (id_zakaz);


--
-- TOC entry 2890 (class 2606 OID 17066)
-- Name: zakaz_product zakaz_product_pk; Type: CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.zakaz_product
    ADD CONSTRAINT zakaz_product_pk PRIMARY KEY (id_zakaz, id_product);


--
-- TOC entry 2891 (class 2606 OID 17008)
-- Name: product product_discounts_fk; Type: FK CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.product
    ADD CONSTRAINT product_discounts_fk FOREIGN KEY (id_discount) REFERENCES shubenok23.discounts(id_discount);


--
-- TOC entry 2892 (class 2606 OID 17013)
-- Name: product product_manufacturer_fk; Type: FK CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.product
    ADD CONSTRAINT product_manufacturer_fk FOREIGN KEY (id_manufacturer) REFERENCES shubenok23.manufacturer(id_manufacturer);


--
-- TOC entry 2896 (class 2606 OID 17067)
-- Name: zakaz_product zakaz_product_product_fk; Type: FK CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.zakaz_product
    ADD CONSTRAINT zakaz_product_product_fk FOREIGN KEY (id_product) REFERENCES shubenok23.product(id_product);


--
-- TOC entry 2897 (class 2606 OID 17072)
-- Name: zakaz_product zakaz_product_zakaz_fk; Type: FK CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.zakaz_product
    ADD CONSTRAINT zakaz_product_zakaz_fk FOREIGN KEY (id_zakaz) REFERENCES shubenok23.zakaz(id_zakaz);


--
-- TOC entry 2893 (class 2606 OID 17042)
-- Name: zakaz zakaz_punkt_vydahi_fk; Type: FK CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.zakaz
    ADD CONSTRAINT zakaz_punkt_vydahi_fk FOREIGN KEY (id_punkt) REFERENCES shubenok23.punkt_vydahi(id_punkt);


--
-- TOC entry 2894 (class 2606 OID 17047)
-- Name: zakaz zakaz_srok_dostavki_fk; Type: FK CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.zakaz
    ADD CONSTRAINT zakaz_srok_dostavki_fk FOREIGN KEY (id_srok) REFERENCES shubenok23.srok_dostavki(id_srok_dost);


--
-- TOC entry 2895 (class 2606 OID 17052)
-- Name: zakaz zakaz_status_zakaz_fk; Type: FK CONSTRAINT; Schema: shubenok23; Owner: postgres
--

ALTER TABLE ONLY shubenok23.zakaz
    ADD CONSTRAINT zakaz_status_zakaz_fk FOREIGN KEY (id_status) REFERENCES shubenok23.status_zakaz(id_status);


-- Completed on 2024-09-26 19:51:58

--
-- PostgreSQL database dump complete
--

